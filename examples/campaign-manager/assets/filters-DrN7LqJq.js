import{r as b,j as g}from"./index-GHNuhSm3.js";import{G as Me,l as Y,u as Te}from"./campaigns-3EARdz53.js";import"./context-dBYAWwbw.js";const I=new WeakMap,{addEventListener:Ye,removeEventListener:je}=EventTarget.prototype;function ae(i,e){let t=I.get(i);t||(t=[],I.set(i,t)),e.forEach(a=>{Ye.call(...a),t.push(a)})}function Se(i){let e=I.get(i);e&&(e.forEach(t=>{je.call(...t)}),I.delete(i))}if(!Event.prototype.composedPath){const i=(e,t=[])=>{t.push(e);let a;return e.parentNode?a=e.parentNode:e.host?a=e.host:e.defaultView&&(a=e.defaultView),a?i(a,t):t};Event.prototype.composedPath=function(){return i(this.target)}}function Oe(i,e,t,a=0){const s=i[a];return e(s)?s:s===t||!s.parentElement?void 0:Oe(i,e,t,a+1)}function Ve(i,e){const t=typeof e=="function"?e:a=>a.matches(e);return Oe(i.composedPath(),t,i.currentTarget)}function te(i){return new Date(i).setHours(0,0,0,0)}function C(){return new Date().setHours(0,0,0,0)}function S(...i){switch(i.length){case 0:return C();case 1:return te(i[0])}const e=new Date(0);return e.setFullYear(...i),e.setHours(0,0,0,0)}function E(i,e){const t=new Date(i);return t.setDate(t.getDate()+e)}function Re(i,e){return E(i,e*7)}function _(i,e){const t=new Date(i),a=t.getMonth()+e;let s=a%12;s<0&&(s+=12);const n=t.setMonth(a);return t.getMonth()!==s?t.setDate(0):n}function F(i,e){const t=new Date(i),a=t.getMonth(),s=t.setFullYear(t.getFullYear()+e);return a===1&&t.getMonth()===2?t.setDate(0):s}function le(i,e){return(i-e+7)%7}function z(i,e,t=0){const a=new Date(i).getDay();return E(i,le(e,t)-le(a,t))}function He(i){const e=z(i,4,1),t=z(new Date(e).setMonth(0,4),4,1);return Math.round((e-t)/6048e5)+1}function O(i,e){const t=new Date(i).getFullYear();return Math.floor(t/e)*e}function x(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function se(i){return i[i.length-1]}function V(i,...e){return e.forEach(t=>{i.includes(t)||i.push(t)}),i}function U(i,e){return i?i.split(e):[]}function ne(i,e,t){const a=e===void 0||i>=e,s=t===void 0||i<=t;return a&&s}function Ce(i,e,t){return i<e?e:i>t?t:i}function N(i,e,t={},a=0,s=""){const n=Object.keys(t).reduce((d,o)=>{let c=t[o];return typeof c=="function"&&(c=c(a)),`${d} ${o}="${c}"`},i);s+=`<${n}></${i}>`;const r=a+1;return r<e?N(i,e,t,r,s):s}function re(i){return i.replace(/>\s+/g,">").replace(/\s+</,"<")}const ie=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Ke=/[\s!-/:-@[-`{-~年月日]+/;let G={};const ce={y(i,e){return new Date(i).setFullYear(parseInt(e,10))},m(i,e,t){const a=new Date(i);let s=parseInt(e,10)-1;if(isNaN(s)){if(!e)return NaN;const n=e.toLowerCase(),r=d=>d.toLowerCase().startsWith(n);if(s=t.monthsShort.findIndex(r),s<0&&(s=t.months.findIndex(r)),s<0)return NaN}return a.setMonth(s),a.getMonth()!==Ee(s)?a.setDate(0):a.getTime()},d(i,e){return new Date(i).setDate(parseInt(e,10))}},Pe={d(i){return i.getDate()},dd(i){return K(i.getDate(),2)},D(i,e){return e.daysShort[i.getDay()]},DD(i,e){return e.days[i.getDay()]},m(i){return i.getMonth()+1},mm(i){return K(i.getMonth()+1,2)},M(i,e){return e.monthsShort[i.getMonth()]},MM(i,e){return e.months[i.getMonth()]},y(i){return i.getFullYear()},yy(i){return K(i.getFullYear(),2).slice(-2)},yyyy(i){return K(i.getFullYear(),4)}};function Ee(i){return i>-1?i%12:Ee(i+12)}function K(i,e){return i.toString().padStart(e,"0")}function Fe(i){if(typeof i!="string")throw new Error("Invalid date format.");if(i in G)return G[i];const e=i.split(ie),t=i.match(new RegExp(ie,"g"));if(e.length===0||!t)throw new Error("Invalid date format.");const a=t.map(n=>Pe[n]),s=Object.keys(ce).reduce((n,r)=>(t.find(o=>o[0]!=="D"&&o[0].toLowerCase()===r)&&n.push(r),n),[]);return G[i]={parser(n,r){const d=n.split(Ke).reduce((o,c,l)=>{if(c.length>0&&t[l]){const h=t[l][0];h==="M"?o.m=c:h!=="D"&&(o[h]=c)}return o},{});return s.reduce((o,c)=>{const l=ce[c](o,d[c],r);return isNaN(l)?o:l},C())},formatter(n,r){let d=a.reduce((o,c,l)=>o+=`${e[l]}${c(n,r)}`,"");return d+=se(e)}}}function j(i,e,t){if(i instanceof Date||typeof i=="number"){const a=te(i);return isNaN(a)?void 0:a}if(i){if(i==="today")return C();if(e&&e.toValue){const a=e.toValue(i,e,t);return isNaN(a)?void 0:te(a)}return Fe(e).parser(i,t)}}function R(i,e,t){if(isNaN(i)||!i&&i!==0)return"";const a=typeof i=="number"?new Date(i):i;return e.toDisplay?e.toDisplay(a,e,t):Fe(e).formatter(a,t)}const B={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},de={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},Ie=document.createRange();function v(i){return Ie.createContextualFragment(i)}function W(i){i.style.display!=="none"&&(i.style.display&&(i.dataset.styleDisplay=i.style.display),i.style.display="none")}function T(i){i.style.display==="none"&&(i.dataset.styleDisplay?(i.style.display=i.dataset.styleDisplay,delete i.dataset.styleDisplay):i.style.display="")}function $(i){i.firstChild&&(i.removeChild(i.firstChild),$(i))}function _e(i,e){$(i),e instanceof DocumentFragment?i.appendChild(e):typeof e=="string"?i.appendChild(v(e)):typeof e.forEach=="function"&&e.forEach(t=>{i.appendChild(t)})}const{language:X,format:ze,weekStart:$e}=de;function ue(i,e){return i.length<6&&e>=0&&e<7?V(i,e):i}function he(i){return(i+6)%7}function fe(i,e,t,a){const s=j(i,e,t);return s!==void 0?s:a}function Z(i,e,t=3){const a=parseInt(i,10);return a>=0&&a<=t?a:e}function Q(i,e){const t=Object.assign({},i),a={},s=e.constructor.locales;let{format:n,language:r,locale:d,maxDate:o,maxView:c,minDate:l,pickLevel:h,startView:w,weekStart:f}=e.config||{};if(t.language){let u;if(t.language!==r&&(s[t.language]?u=t.language:(u=t.language.split("-")[0],s[u]===void 0&&(u=!1))),delete t.language,u){r=a.language=u;const D=d||s[X];d=Object.assign({format:ze,weekStart:$e},s[X]),r!==X&&Object.assign(d,s[r]),a.locale=d,n===D.format&&(n=a.format=d.format),f===D.weekStart&&(f=a.weekStart=d.weekStart,a.weekEnd=he(d.weekStart))}}if(t.format){const u=typeof t.format.toDisplay=="function",D=typeof t.format.toValue=="function",H=ie.test(t.format);(u&&D||H)&&(n=a.format=t.format),delete t.format}let p=l,y=o;if(t.minDate!==void 0&&(p=t.minDate===null?S(0,0,1):fe(t.minDate,n,d,p),delete t.minDate),t.maxDate!==void 0&&(y=t.maxDate===null?void 0:fe(t.maxDate,n,d,y),delete t.maxDate),y<p?(l=a.minDate=y,o=a.maxDate=p):(l!==p&&(l=a.minDate=p),o!==y&&(o=a.maxDate=y)),t.datesDisabled&&(a.datesDisabled=t.datesDisabled.reduce((u,D)=>{const H=j(D,n,d);return H!==void 0?V(u,H):u},[]),delete t.datesDisabled),t.defaultViewDate!==void 0){const u=j(t.defaultViewDate,n,d);u!==void 0&&(a.defaultViewDate=u),delete t.defaultViewDate}if(t.weekStart!==void 0){const u=Number(t.weekStart)%7;isNaN(u)||(f=a.weekStart=u,a.weekEnd=he(u)),delete t.weekStart}if(t.daysOfWeekDisabled&&(a.daysOfWeekDisabled=t.daysOfWeekDisabled.reduce(ue,[]),delete t.daysOfWeekDisabled),t.daysOfWeekHighlighted&&(a.daysOfWeekHighlighted=t.daysOfWeekHighlighted.reduce(ue,[]),delete t.daysOfWeekHighlighted),t.maxNumberOfDates!==void 0){const u=parseInt(t.maxNumberOfDates,10);u>=0&&(a.maxNumberOfDates=u,a.multidate=u!==1),delete t.maxNumberOfDates}t.dateDelimiter&&(a.dateDelimiter=String(t.dateDelimiter),delete t.dateDelimiter);let M=h;t.pickLevel!==void 0&&(M=Z(t.pickLevel,2),delete t.pickLevel),M!==h&&(h=a.pickLevel=M);let k=c;t.maxView!==void 0&&(k=Z(t.maxView,c),delete t.maxView),k=h>k?h:k,k!==c&&(c=a.maxView=k);let m=w;if(t.startView!==void 0&&(m=Z(t.startView,m),delete t.startView),m<h?m=h:m>c&&(m=c),m!==w&&(a.startView=m),t.prevArrow){const u=v(t.prevArrow);u.childNodes.length>0&&(a.prevArrow=u.childNodes),delete t.prevArrow}if(t.nextArrow){const u=v(t.nextArrow);u.childNodes.length>0&&(a.nextArrow=u.childNodes),delete t.nextArrow}if(t.disableTouchKeyboard!==void 0&&(a.disableTouchKeyboard="ontouchstart"in document&&!!t.disableTouchKeyboard,delete t.disableTouchKeyboard),t.orientation){const u=t.orientation.toLowerCase().split(/\s+/g);a.orientation={x:u.find(D=>D==="left"||D==="right")||"auto",y:u.find(D=>D==="top"||D==="bottom")||"auto"},delete t.orientation}if(t.todayBtnMode!==void 0){switch(t.todayBtnMode){case 0:case 1:a.todayBtnMode=t.todayBtnMode}delete t.todayBtnMode}return Object.keys(t).forEach(u=>{t[u]!==void 0&&x(de,u)&&(a[u]=t[u])}),a}const qe=re(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),Je=re(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">${N("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">${N("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}</div>
</div>`),Ue=re(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">${N("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
</div>`);class oe{constructor(e,t){Object.assign(this,t,{picker:e,element:v('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}init(e){e.pickLevel!==void 0&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}performBeforeHook(e,t,a){let s=this.beforeShow(new Date(a));switch(typeof s){case"boolean":s={enabled:s};break;case"string":s={classes:s}}if(s){if(s.enabled===!1&&(e.classList.add("disabled"),V(this.disabled,t)),s.classes){const n=s.classes.split(/\s+/);e.classList.add(...n),n.includes("disabled")&&V(this.disabled,t)}s.content&&_e(e,s.content)}}}class Ge extends oe{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const a=v(Je).firstChild;this.dow=a.firstChild,this.grid=a.lastChild,this.element.appendChild(a)}super.init(e)}setOptions(e){let t;if(x(e,"minDate")&&(this.minDate=e.minDate),x(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),e.todayHighlight!==void 0&&(this.todayHighlight=e.todayHighlight),e.weekStart!==void 0&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){const a=this.locale=e.locale;this.dayNames=a.daysMin,this.switchLabelFormat=a.titleFormat,t=!0}if(e.beforeShowDay!==void 0&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),e.calendarWeeks!==void 0)if(e.calendarWeeks&&!this.calendarWeeks){const a=v(Ue).firstChild;this.calendarWeeks={element:a,dow:a.firstChild,weeks:a.lastChild},this.element.insertBefore(a,this.element.firstChild)}else this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);e.showDaysOfWeek!==void 0&&(e.showDaysOfWeek?(T(this.dow),this.calendarWeeks&&T(this.calendarWeeks.dow)):(W(this.dow),this.calendarWeeks&&W(this.calendarWeeks.dow))),t&&Array.from(this.dow.children).forEach((a,s)=>{const n=(this.weekStart+s)%7;a.textContent=this.dayNames[n],a.className=this.daysOfWeekDisabled.includes(n)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}updateFocus(){const e=new Date(this.picker.viewDate),t=e.getFullYear(),a=e.getMonth(),s=S(t,a,1),n=z(s,this.weekStart,this.weekStart);this.first=s,this.last=S(t,a+1,0),this.start=n,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){this.today=this.todayHighlight?C():void 0,this.disabled=[...this.datesDisabled];const e=R(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){const t=z(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((a,s)=>{a.textContent=He(Re(t,s))})}Array.from(this.grid.children).forEach((t,a)=>{const s=t.classList,n=E(this.start,a),r=new Date(n),d=r.getDay();if(t.className=`datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ${this.cellClass}`,t.dataset.date=n,t.textContent=r.getDate(),n<this.first?s.add("prev","text-gray-500","dark:text-white"):n>this.last&&s.add("next","text-gray-500","dark:text-white"),this.today===n&&s.add("today","bg-gray-100","dark:bg-gray-600"),(n<this.minDate||n>this.maxDate||this.disabled.includes(n))&&s.add("disabled","cursor-not-allowed"),this.daysOfWeekDisabled.includes(d)&&(s.add("disabled","cursor-not-allowed"),V(this.disabled,n)),this.daysOfWeekHighlighted.includes(d)&&s.add("highlighted"),this.range){const[o,c]=this.range;n>o&&n<c&&(s.add("range","bg-gray-200","dark:bg-gray-600"),s.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),n===o&&(s.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),s.remove("rounded-lg","rounded-r-lg")),n===c&&(s.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),s.remove("rounded-lg","rounded-l-lg"))}this.selected.includes(n)&&(s.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),s.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),n===this.focused&&s.add("focused"),this.beforeShow&&this.performBeforeHook(t,n,n)})}refresh(){const[e,t]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(a=>{a.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),a.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(a=>{const s=Number(a.dataset.date),n=a.classList;n.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),s>e&&s<t&&(n.add("range","bg-gray-200","dark:bg-gray-600"),n.remove("rounded-lg")),s===e&&(n.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),n.remove("rounded-lg","rounded-r-lg")),s===t&&(n.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),n.remove("rounded-lg","rounded-l-lg")),this.selected.includes(s)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),s===this.focused&&n.add("focused")})}refreshFocus(){const e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function ge(i,e){if(!i||!i[0]||!i[1])return;const[[t,a],[s,n]]=i;if(!(t>e||s<e))return[t===e?a:-1,s===e?n:12]}class Xe extends oe{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(v(N("span",12,{"data-month":a=>a})))),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),x(e,"minDate"))if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{const t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if(x(e,"maxDate"))if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=S(this.maxYear,this.maxMonth+1,0)}e.beforeShowMonth!==void 0&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((a,s)=>{const n=new Date(s),r=n.getFullYear(),d=n.getMonth();return a[r]===void 0?a[r]=[d]:V(a[r],d),a},{}),t&&t.dates&&(this.range=t.dates.map(a=>{const s=new Date(a);return isNaN(s)?void 0:[s.getFullYear(),s.getMonth()]}))}render(){this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);const e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,a=this.year===this.minYear,s=this.year===this.maxYear,n=ge(this.range,this.year);Array.from(this.grid.children).forEach((r,d)=>{const o=r.classList,c=S(this.year,d,1);if(r.className=`datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ${this.cellClass}`,this.isMinView&&(r.dataset.date=c),r.textContent=this.monthNames[d],(t||a&&d<this.minMonth||s&&d>this.maxMonth)&&o.add("disabled"),n){const[l,h]=n;d>l&&d<h&&o.add("range"),d===l&&o.add("range-start"),d===h&&o.add("range-end")}e.includes(d)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),d===this.focused&&o.add("focused"),this.beforeShow&&this.performBeforeHook(r,d,c)})}refresh(){const e=this.selected[this.year]||[],[t,a]=ge(this.range,this.year)||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(s=>{s.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),s.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach((s,n)=>{const r=s.classList;n>t&&n<a&&r.add("range"),n===t&&r.add("range-start"),n===a&&r.add("range-end"),e.includes(n)&&(r.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),r.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),n===this.focused&&r.add("focused")})}refreshFocus(){this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}function Ze(i){return[...i].reduce((e,t,a)=>e+=a?t:t.toUpperCase(),"")}class me extends oe{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${Ze(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(v(N("span",12)))),super.init(e)}setOptions(e){if(x(e,"minDate")&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=O(e.minDate,this.step),this.minDate=S(this.minYear,0,1))),x(e,"maxDate")&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=O(e.maxDate,this.step),this.maxDate=S(this.maxYear,11,31))),e[this.beforeShowOption]!==void 0){const t=e[this.beforeShowOption];this.beforeShow=typeof t=="function"?t:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),t=O(e,this.navStep),a=t+9*this.step;this.first=t,this.last=a,this.start=t-this.step,this.focused=O(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((a,s)=>V(a,O(s,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(a=>{if(a!==void 0)return O(a,this.step)}))}render(){this.disabled=[],this.picker.setViewSwitchLabel(`${this.first}-${this.last}`),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{const a=e.classList,s=this.start+t*this.step,n=S(s,0,1);if(e.className=`datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ${this.cellClass}`,this.isMinView&&(e.dataset.date=n),e.textContent=e.dataset.year=s,t===0?a.add("prev"):t===11&&a.add("next"),(s<this.minYear||s>this.maxYear)&&a.add("disabled"),this.range){const[r,d]=this.range;s>r&&s<d&&a.add("range"),s===r&&a.add("range-start"),s===d&&a.add("range-end")}this.selected.includes(s)&&(a.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),a.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),s===this.focused&&a.add("focused"),this.beforeShow&&this.performBeforeHook(e,s,n)})}refresh(){const[e,t]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(a=>{a.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(a=>{const s=Number(a.textContent),n=a.classList;s>e&&s<t&&n.add("range"),s===e&&n.add("range-start"),s===t&&n.add("range-end"),this.selected.includes(s)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),s===this.focused&&n.add("focused")})}refreshFocus(){const e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function L(i,e){const t={date:i.getDate(),viewDate:new Date(i.picker.viewDate),viewId:i.picker.currentView.id,datepicker:i};i.element.dispatchEvent(new CustomEvent(e,{detail:t}))}function q(i,e){const{minDate:t,maxDate:a}=i.config,{currentView:s,viewDate:n}=i.picker;let r;switch(s.id){case 0:r=_(n,e);break;case 1:r=F(n,e);break;default:r=F(n,e*s.navStep)}r=Ce(r,t,a),i.picker.changeFocus(r).render()}function Le(i){const e=i.picker.currentView.id;e!==i.config.maxView&&i.picker.changeView(e+1).render()}function Ne(i){i.config.updateOnBlur?i.update({autohide:!0}):(i.refresh("input"),i.hide())}function be(i,e){const t=i.picker,a=new Date(t.viewDate),s=t.currentView.id,n=s===1?_(a,e-a.getMonth()):F(a,e-a.getFullYear());t.changeFocus(n).changeView(s-1).render()}function Qe(i){const e=i.picker,t=C();if(i.config.todayBtnMode===1){if(i.config.autohide){i.setDate(t);return}i.setDate(t,{render:!1}),e.update()}e.viewDate!==t&&e.changeFocus(t),e.changeView(0).render()}function et(i){i.setDate({clear:!0})}function tt(i){Le(i)}function it(i){q(i,-1)}function at(i){q(i,1)}function st(i,e){const t=Ve(e,".datepicker-cell");if(!t||t.classList.contains("disabled"))return;const{id:a,isMinView:s}=i.picker.currentView;s?i.setDate(Number(t.dataset.date)):a===1?be(i,Number(t.dataset.month)):be(i,Number(t.dataset.year))}function nt(i){!i.inline&&!i.config.disableTouchKeyboard&&i.inputField.focus()}function we(i,e){if(e.title!==void 0&&(e.title?(i.controls.title.textContent=e.title,T(i.controls.title)):(i.controls.title.textContent="",W(i.controls.title))),e.prevArrow){const t=i.controls.prevBtn;$(t),e.prevArrow.forEach(a=>{t.appendChild(a.cloneNode(!0))})}if(e.nextArrow){const t=i.controls.nextBtn;$(t),e.nextArrow.forEach(a=>{t.appendChild(a.cloneNode(!0))})}if(e.locale&&(i.controls.todayBtn.textContent=e.locale.today,i.controls.clearBtn.textContent=e.locale.clear),e.todayBtn!==void 0&&(e.todayBtn?T(i.controls.todayBtn):W(i.controls.todayBtn)),x(e,"minDate")||x(e,"maxDate")){const{minDate:t,maxDate:a}=i.datepicker.config;i.controls.todayBtn.disabled=!ne(C(),t,a)}e.clearBtn!==void 0&&(e.clearBtn?T(i.controls.clearBtn):W(i.controls.clearBtn))}function ye(i){const{dates:e,config:t}=i,a=e.length>0?se(e):t.defaultViewDate;return Ce(a,t.minDate,t.maxDate)}function pe(i,e){const t=new Date(i.viewDate),a=new Date(e),{id:s,year:n,first:r,last:d}=i.currentView,o=a.getFullYear();switch(i.viewDate=e,o!==t.getFullYear()&&L(i.datepicker,"changeYear"),a.getMonth()!==t.getMonth()&&L(i.datepicker,"changeMonth"),s){case 0:return e<r||e>d;case 1:return o!==n;default:return o<r||o>d}}function ee(i){return window.getComputedStyle(i).direction}class rt{constructor(e){this.datepicker=e;const t=qe.replace(/%buttonClass%/g,e.config.buttonClass),a=this.element=v(t).firstChild,[s,n,r]=a.firstChild.children,d=s.firstElementChild,[o,c,l]=s.lastElementChild.children,[h,w]=r.firstChild.children,f={title:d,prevBtn:o,viewSwitch:c,nextBtn:l,todayBtn:h,clearBtn:w};this.main=n,this.controls=f;const p=e.inline?"inline":"dropdown";a.classList.add(`datepicker-${p}`),p==="dropdown"&&a.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),we(this,e.config),this.viewDate=ye(e),ae(e,[[a,"click",nt.bind(null,e),{capture:!0}],[n,"click",st.bind(null,e)],[f.viewSwitch,"click",tt.bind(null,e)],[f.prevBtn,"click",it.bind(null,e)],[f.nextBtn,"click",at.bind(null,e)],[f.todayBtn,"click",Qe.bind(null,e)],[f.clearBtn,"click",et.bind(null,e)]]),this.views=[new Ge(this),new Xe(this),new me(this,{id:2,name:"years",cellClass:"year",step:1}),new me(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}setOptions(e){we(this,e),this.views.forEach(t=>{t.init(e,!1)}),this.currentView.render()}detach(){this.datepicker.config.container.removeChild(this.element)}show(){if(this.active)return;this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;const e=this.datepicker;if(!e.inline){const t=ee(e.inputField);t!==ee(e.config.container)?this.element.dir=t:this.element.dir&&this.element.removeAttribute("dir"),this.place(),e.config.disableTouchKeyboard&&e.inputField.blur()}L(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,L(this.datepicker,"hide"))}place(){const{classList:e,style:t}=this.element,{config:a,inputField:s}=this.datepicker,n=a.container,{width:r,height:d}=this.element.getBoundingClientRect(),{left:o,top:c,width:l}=n.getBoundingClientRect(),{left:h,top:w,width:f,height:p}=s.getBoundingClientRect();let{x:y,y:M}=a.orientation,k,m,u;n===document.body?(k=window.scrollY,m=h+window.scrollX,u=w+k):(k=n.scrollTop,m=h-o,u=w-c+k),y==="auto"&&(m<0?(y="left",m=10):m+r>l?y="right":y=ee(s)==="rtl"?"right":"left"),y==="right"&&(m-=r-f),M==="auto"&&(M=u-d<k?"bottom":"top"),M==="top"?u-=d:u+=p,e.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),e.add(`datepicker-orient-${M}`,`datepicker-orient-${y}`),t.top=u&&`${u}px`,t.left=m&&`${m}px`}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevBtnDisabled(e){this.controls.prevBtn.disabled=e}setNextBtnDisabled(e){this.controls.nextBtn.disabled=e}changeView(e){const t=this.currentView,a=this.views[e];return a.id!==t.id&&(this.currentView=a,this._renderMethod="render",L(this.datepicker,"changeView"),this.main.replaceChild(a.element,t.element)),this}changeFocus(e){return this._renderMethod=pe(this,e)?"render":"refreshFocus",this.views.forEach(t=>{t.updateFocus()}),this}update(){const e=ye(this.datepicker);return this._renderMethod=pe(this,e)?"render":"refresh",this.views.forEach(t=>{t.updateFocus(),t.updateSelection()}),this}render(e=!0){const t=e&&this._renderMethod||"render";delete this._renderMethod,this.currentView[t]()}}function Be(i,e,t,a,s,n){if(ne(i,s,n)){if(a(i)){const r=e(i,t);return Be(r,e,t,a,s,n)}return i}}function P(i,e,t,a){const s=i.picker,n=s.currentView,r=n.step||1;let d=s.viewDate,o,c;switch(n.id){case 0:a?d=E(d,t*7):e.ctrlKey||e.metaKey?d=F(d,t):d=E(d,t),o=E,c=l=>n.disabled.includes(l);break;case 1:d=_(d,a?t*4:t),o=_,c=l=>{const h=new Date(l),{year:w,disabled:f}=n;return h.getFullYear()===w&&f.includes(h.getMonth())};break;default:d=F(d,t*(a?4:1)*r),o=F,c=l=>n.disabled.includes(O(l,r))}d=Be(d,o,t<0?-r:r,c,n.minDate,n.maxDate),d!==void 0&&s.changeFocus(d).render()}function dt(i,e){if(e.key==="Tab"){Ne(i);return}const t=i.picker,{id:a,isMinView:s}=t.currentView;if(t.active)if(i.editMode)switch(e.key){case"Escape":t.hide();break;case"Enter":i.exitEditMode({update:!0,autohide:i.config.autohide});break;default:return}else switch(e.key){case"Escape":t.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)q(i,-1);else if(e.shiftKey){i.enterEditMode();return}else P(i,e,-1,!1);break;case"ArrowRight":if(e.ctrlKey||e.metaKey)q(i,1);else if(e.shiftKey){i.enterEditMode();return}else P(i,e,1,!1);break;case"ArrowUp":if(e.ctrlKey||e.metaKey)Le(i);else if(e.shiftKey){i.enterEditMode();return}else P(i,e,-1,!0);break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){i.enterEditMode();return}P(i,e,1,!0);break;case"Enter":s?i.setDate(t.viewDate):t.changeView(a-1).render();break;case"Backspace":case"Delete":i.enterEditMode();return;default:e.key.length===1&&!e.ctrlKey&&!e.metaKey&&i.enterEditMode();return}else switch(e.key){case"ArrowDown":case"Escape":t.show();break;case"Enter":i.update();break;default:return}e.preventDefault(),e.stopPropagation()}function ot(i){i.config.showOnFocus&&!i._showing&&i.show()}function lt(i,e){const t=e.target;(i.picker.active||i.config.showOnClick)&&(t._active=t===document.activeElement,t._clicking=setTimeout(()=>{delete t._active,delete t._clicking},2e3))}function ct(i,e){const t=e.target;t._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&i.enterEditMode(),delete t._active,i.config.showOnClick&&i.show())}function ut(i,e){e.clipboardData.types.includes("text/plain")&&i.enterEditMode()}function ht(i,e){const t=i.element;if(t!==document.activeElement)return;const a=i.picker.element;Ve(e,s=>s===t||s===a)||Ne(i)}function Ae(i,e){return i.map(t=>R(t,e.format,e.locale)).join(e.dateDelimiter)}function We(i,e,t=!1){const{config:a,dates:s,rangepicker:n}=i;if(e.length===0)return t?[]:void 0;const r=n&&i===n.datepickers[1];let d=e.reduce((o,c)=>{let l=j(c,a.format,a.locale);if(l===void 0)return o;if(a.pickLevel>0){const h=new Date(l);a.pickLevel===1?l=r?h.setMonth(h.getMonth()+1,0):h.setDate(1):l=r?h.setFullYear(h.getFullYear()+1,0,0):h.setMonth(0,1)}return ne(l,a.minDate,a.maxDate)&&!o.includes(l)&&!a.datesDisabled.includes(l)&&!a.daysOfWeekDisabled.includes(new Date(l).getDay())&&o.push(l),o},[]);if(d.length!==0)return a.multidate&&!t&&(d=d.reduce((o,c)=>(s.includes(c)||o.push(c),o),s.filter(o=>!d.includes(o)))),a.maxNumberOfDates&&d.length>a.maxNumberOfDates?d.slice(a.maxNumberOfDates*-1):d}function J(i,e=3,t=!0){const{config:a,picker:s,inputField:n}=i;if(e&2){const r=s.active?a.pickLevel:a.startView;s.update().changeView(r).render(t)}e&1&&n&&(n.value=Ae(i.dates,a))}function ke(i,e,t){let{clear:a,render:s,autohide:n}=t;s===void 0&&(s=!0),s?n===void 0&&(n=i.config.autohide):n=!1;const r=We(i,e,a);r&&(r.toString()!==i.dates.toString()?(i.dates=r,J(i,s?3:1),L(i,"changeDate")):J(i,1),n&&i.hide())}class ft{constructor(e,t={},a=void 0){e.datepicker=this,this.element=e;const s=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:document.body,defaultViewDate:C(),maxDate:void 0,minDate:void 0},Q(de,this));this._options=t,Object.assign(s,Q(t,this));const n=this.inline=e.tagName!=="INPUT";let r,d;if(n)s.container=e,d=U(e.dataset.date,s.dateDelimiter),delete e.dataset.date;else{const l=t.container?document.querySelector(t.container):null;l&&(s.container=l),r=this.inputField=e,r.classList.add("datepicker-input"),d=U(r.value,s.dateDelimiter)}if(a){const l=a.inputs.indexOf(r),h=a.datepickers;if(l<0||l>1||!Array.isArray(h))throw Error("Invalid rangepicker object.");h[l]=this,Object.defineProperty(this,"rangepicker",{get(){return a}})}this.dates=[];const o=We(this,d);o&&o.length>0&&(this.dates=o),r&&(r.value=Ae(this.dates,s));const c=this.picker=new rt(this);if(n)this.show();else{const l=ht.bind(null,this),h=[[r,"keydown",dt.bind(null,this)],[r,"focus",ot.bind(null,this)],[r,"mousedown",lt.bind(null,this)],[r,"click",ct.bind(null,this)],[r,"paste",ut.bind(null,this)],[document,"mousedown",l],[document,"touchstart",l],[window,"resize",c.place.bind(c)]];ae(this,h)}}static formatDate(e,t,a){return R(e,t,a&&B[a]||B.en)}static parseDate(e,t,a){return j(e,t,a&&B[a]||B.en)}static get locales(){return B}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const t=this.picker,a=Q(e,this);Object.assign(this._options,e),Object.assign(this.config,a),t.setOptions(a),J(this,3)}show(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}destroy(){return this.hide(),Se(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}getDate(e=void 0){const t=e?a=>R(a,e,this.config.locale):a=>new Date(a);if(this.config.multidate)return this.dates.map(t);if(this.dates.length>0)return t(this.dates[0])}setDate(...e){const t=[...e],a={},s=se(e);typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&s&&Object.assign(a,t.pop());const n=Array.isArray(t[0])?t[0]:t;ke(this,n,a)}update(e=void 0){if(this.inline)return;const t={clear:!0,autohide:!!(e&&e.autohide)},a=U(this.inputField.value,this.config.dateDelimiter);ke(this,a,t)}refresh(e=void 0,t=!1){e&&typeof e!="string"&&(t=e,e=void 0);let a;e==="picker"?a=2:e==="input"?a=1:a=3,J(this,a,!t)}enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}exitEditMode(e=void 0){if(this.inline||!this.editMode)return;const t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),t.update&&this.update(t)}}function De(i){const e=Object.assign({},i);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function xe(i,e,t,a){ae(i,[[t,"changeDate",e]]),new ft(t,a,i)}function A(i,e){if(i._updating)return;i._updating=!0;const t=e.target;if(t.datepicker===void 0)return;const a=i.datepickers,s={render:!1},n=i.inputs.indexOf(t),r=n===0?1:0,d=a[n].dates[0],o=a[r].dates[0];d!==void 0&&o!==void 0?n===0&&d>o?(a[0].setDate(o,s),a[1].setDate(d,s)):n===1&&d<o&&(a[0].setDate(d,s),a[1].setDate(o,s)):i.allowOneSidedRange||(d!==void 0||o!==void 0)&&(s.clear=!0,a[r].setDate(a[n].dates,s)),a[0].picker.update().render(),a[1].picker.update().render(),delete i._updating}class gt{constructor(e,t={}){const a=Array.isArray(t.inputs)?t.inputs:Array.from(e.querySelectorAll("input"));if(a.length<2)return;e.rangepicker=this,this.element=e,this.inputs=a.slice(0,2),this.allowOneSidedRange=!!t.allowOneSidedRange;const s=A.bind(null,this),n=De(t),r=[];Object.defineProperty(this,"datepickers",{get(){return r}}),xe(this,s,this.inputs[0],n),xe(this,s,this.inputs[1],n),Object.freeze(r),r[0].dates.length>0?A(this,{target:this.inputs[0]}):r[1].dates.length>0&&A(this,{target:this.inputs[1]})}get dates(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;const t=De(e);this.datepickers[0].setOptions(t),this.datepickers[1].setOptions(t)}destroy(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),Se(this),delete this.element.rangepicker}getDates(e=void 0){const t=e?a=>R(a,e,this.datepickers[0].config.locale):a=>new Date(a);return this.dates.map(a=>a===void 0?a:t(a))}setDates(e,t){const[a,s]=this.datepickers,n=this.dates;this._updating=!0,a.setDate(e),s.setDate(t),delete this._updating,s.dates[0]!==n[1]?A(this,{target:this.inputs[1]}):a.dates[0]!==n[0]&&A(this,{target:this.inputs[0]})}}function ve(i){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM7.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM8.25 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM9.75 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM10.5 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM12.75 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM14.25 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 13.5a.75.75 0 100-1.5.75.75 0 000 1.5z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z",clipRule:"evenodd"}}]})(i)}function mt(i){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z",clipRule:"evenodd"}}]})(i)}const bt=i=>{var r,d,o,c;const e=b.useRef(null),t=b.useRef(null),a=b.useRef(null),[,s]=b.useState({start:"",end:""}),n=b.useCallback(l=>{const h=l;s(w=>{const f={...w,[h.target.name]:h.target.value};return i.onChangeDateCallback({start:f.start,end:f.end}),f})},[i]);return b.useEffect(()=>{var p,y;const l=e.current,h=a.current,w=t.current;let f=null;return l&&(f=new gt(l,{format:i.format}),f.setDates((p=i.dateRangeValue)==null?void 0:p.start,(y=i.dateRangeValue)==null?void 0:y.end)),h&&h.addEventListener("changeDate",n),w&&w.addEventListener("changeDate",n),()=>{h&&h.removeEventListener("changeDate",n),w&&w.removeEventListener("changeDate",n),f.destroy()}},[n,e,i.format,(r=i.dateRangeValue)==null?void 0:r.start,(d=i.dateRangeValue)==null?void 0:d.end]),g.jsxs("div",{ref:e,className:"flex items-center space-x-1.5 w-full",children:[g.jsxs("div",{className:"relative w-full",children:[g.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:g.jsx(ve,{})}),g.jsx("input",{defaultValue:((o=i.dateRangeValue)==null?void 0:o.start)||"",ref:t,name:"start",type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:Y.startDate})]}),g.jsxs("div",{className:"relative w-full",children:[g.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:g.jsx(ve,{})}),g.jsx("input",{defaultValue:((c=i.dateRangeValue)==null?void 0:c.end)||"",ref:a,name:"end",type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:Y.endDate})]})]})},wt=b.memo(bt),yt=(i,e)=>{const[t,a]=b.useState(i),[s,n]=b.useState(!0),r=b.useCallback(()=>{a(t)},[t]);return b.useEffect(()=>{if(s){n(!1);return}const d=setTimeout(()=>{a(i)},e);return()=>{clearTimeout(d)}},[i,e,s]),[t,r]},pt=i=>{const[e,t]=b.useState(i.defaultValue||""),[a,s]=b.useState(!1),[n]=yt(e,500),r=b.useCallback(c=>{t(c.currentTarget.value)},[]);b.useEffect(()=>{a&&(n||n==="")&&i.onSearchCallback(n)},[i,n,a]);const d=()=>s(!0),o=()=>s(!1);return g.jsxs("div",{className:"relative w-full",children:[g.jsx("label",{className:"sr-only",children:Y.search}),g.jsx("input",{defaultValue:i.defaultValue,onKeyUp:r,onFocus:d,onBlur:o,type:"text",name:"search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:i.placeholder||Y.searchPlaceholder}),g.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pointer-events-none ps-3",children:g.jsx(mt,{size:16})})]})},kt=b.memo(pt),Dt=b.forwardRef((i,e)=>{const t=Te();return g.jsxs(g.Fragment,{children:[g.jsx("h4",{className:"text-left",children:Y.filterBy}),g.jsxs("div",{ref:e,className:"flex flex-col md:flex-row space-y-1.5 md:space-x-1.5 md:space-y-0 my-4",children:[g.jsx(kt,{onSearchCallback:t.onSearchBy,defaultValue:t.state.filtersBy.searchBy}),g.jsx(wt,{onChangeDateCallback:t.onFilterByDate,format:i.dateFormat,dateRangeValue:t.state.filtersBy.dateRange})]})]})}),St=b.memo(Dt);export{St as Filters,St as default};
